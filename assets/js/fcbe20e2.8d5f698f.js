"use strict";(self.webpackChunknextjs_cn_doc=self.webpackChunknextjs_cn_doc||[]).push([[4470],{3735:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>o,frontMatter:()=>a,metadata:()=>s,toc:()=>h});var i=t(5893),c=t(1151);const a={title:"\u83b7\u53d6, \u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1",description:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating"},r=void 0,s={id:"building-your-application/data-fetching/fetching-caching-and-revalidating",title:"\u83b7\u53d6, \u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1",description:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating",source:"@site/docs/02-building-your-application/02-data-fetching/01-fetching-caching-and-revalidating.md",sourceDirName:"02-building-your-application/02-data-fetching",slug:"/building-your-application/data-fetching/fetching-caching-and-revalidating",permalink:"/nextjs-doc-cn-web/docs/building-your-application/data-fetching/fetching-caching-and-revalidating",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-building-your-application/02-data-fetching/01-fetching-caching-and-revalidating.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"\u83b7\u53d6, \u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1",description:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating"},sidebar:"appRouter",previous:{title:"\u6570\u636e\u8bf7\u6c42",permalink:"/nextjs-doc-cn-web/docs/category/\u6570\u636e\u8bf7\u6c42"},next:{title:"\u6570\u636e\u83b7\u53d6\u6a21\u677f",permalink:"/nextjs-doc-cn-web/docs/building-your-application/data-fetching/data-fetching-patterns"}},d={},h=[{value:"Fetching Data on the Server with <code>fetch</code> (\u901a\u8fc7 <code>fetch</code> \u5728\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e)",id:"fetching-data-on-the-server-with-fetch-\u901a\u8fc7-fetch-\u5728\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e",level:2},{value:"Caching Data (\u7f13\u5b58\u6570\u636e)",id:"caching-data-\u7f13\u5b58\u6570\u636e",level:3},{value:"Revalidating Data (\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1)",id:"revalidating-data-\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1",level:3},{value:"Time-based Revalidation (\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1)",id:"time-based-revalidation-\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1",level:4},{value:"On-demand Revalidation (\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1)",id:"on-demand-revalidation-\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1",level:4},{value:"Error handling and revalidation (\u9519\u8bef\u5904\u7406\u548c\u91cd\u65b0\u9a8c\u8bc1)",id:"error-handling-and-revalidation-\u9519\u8bef\u5904\u7406\u548c\u91cd\u65b0\u9a8c\u8bc1",level:4},{value:"Opting out of Data Caching (\u9000\u51fa\u6570\u636e\u7f13\u5b58)",id:"opting-out-of-data-caching-\u9000\u51fa\u6570\u636e\u7f13\u5b58",level:3},{value:"Individual <code>fetch</code> Requests (\u79c1\u6709\u7684 <code>fetch</code> \u8bf7\u6c42)",id:"individual-fetch-requests-\u79c1\u6709\u7684-fetch-\u8bf7\u6c42",level:4},{value:"Multiple <code>fetch</code> Requests (\u591a\u4e2a <code>fetch</code> \u8bf7\u6c42)",id:"multiple-fetch-requests-\u591a\u4e2a-fetch-\u8bf7\u6c42",level:4},{value:"Fetching data on the Server with third-party libraries (\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e)",id:"fetching-data-on-the-server-with-third-party-libraries-\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e",level:2},{value:"Example (\u793a\u4f8b)",id:"example-\u793a\u4f8b",level:3},{value:"Fetching Data on the Client with Route Handlers (\u5728\u5ba2\u6237\u7aef\u8bbf\u95ee\u8def\u7531\u5904\u7406\u5668\u83b7\u53d6\u6570\u636e)",id:"fetching-data-on-the-client-with-route-handlers-\u5728\u5ba2\u6237\u7aef\u8bbf\u95ee\u8def\u7531\u5904\u7406\u5668\u83b7\u53d6\u6570\u636e",level:2},{value:"Fetching Data on the Client with third-party libraries (\u5728\u5ba2\u6237\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e)",id:"fetching-data-on-the-client-with-third-party-libraries-\u5728\u5ba2\u6237\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Data Fetching(\u6570\u636e\u83b7\u53d6) \u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u6838\u5fc3\u90e8\u5206. \u672c\u9875\u9762\u5c06\u4f1a\u5e26\u4f60\u4e86\u89e3\u5728 Next.js \u548c React \u4e2d\u83b7\u53d6\u6570\u636e, \u7f13\u5b58\u6570\u636e\u548c\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e."}),"\n",(0,i.jsx)(n.p,{children:"\u4f60\u53ef\u4ee5\u4f7f\u7528\u56db\u79cd\u65b9\u6cd5\u6765\u83b7\u53d6\u6570\u636e:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsxs)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#fetching-data-on-the-server-with-fetch",children:["\u5728\u670d\u52a1\u5668\u7aef, \u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"fetch"})]})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#fetching-data-on-the-server-with-third-party-libraries",children:"\u5728\u670d\u52a1\u5668\u7aef, \u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#fetching-data-on-the-client-with-route-handlers",children:"\u5728\u5ba2\u6237\u7aef, \u8bbf\u95ee Route Handler(\u8def\u7531\u5904\u7406\u5668)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#fetching-data-on-the-client-with-route-handlers",children:"\u5728\u5ba2\u6237\u7aef, \u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"fetching-data-on-the-server-with-fetch-\u901a\u8fc7-fetch-\u5728\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e",children:["Fetching Data on the Server with ",(0,i.jsx)(n.code,{children:"fetch"})," (\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"fetch"})," \u5728\u670d\u52a1\u5668\u7aef\u83b7\u53d6\u6570\u636e)"]}),"\n",(0,i.jsxs)(n.p,{children:["Next.js \u6269\u5c55\u4e86\u539f\u751f\u7684 ",(0,i.jsxs)(n.a,{href:"https://developer.mozilla.org/docs/Web/API/Fetch_API",children:[(0,i.jsx)(n.code,{children:"fetch"})," Web API"]}),", \u5141\u8bb8\u4f60\u4e3a\u670d\u52a1\u5668\u7aef\u4e0a\u7684\u6bcf\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u914d\u7f6e",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#caching-data",children:"cache(\u7f13\u5b58)"}),"\u548c",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/fetching-caching-and-revalidating#revalidating-data",children:"revalidating(\u91cd\u65b0\u9a8c\u8bc1)"}),"\u884c\u4e3a. React \u5bf9 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8fdb\u884c\u4e86\u6269\u5c55, \u4ee5\u4fbf\u5728\u6e32\u67d3 React \u7ec4\u4ef6\u6811\u65f6\u81ea\u52a8",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/patterns#fetching-data-where-its-needed",children:"memoize(\u8bb0\u5fc6)"})," fetch \u8bf7\u6c42."]}),"\n",(0,i.jsxs)(n.p,{children:["\u4f60\u53ef\u4ee5\u5728 Server Component(\u670d\u52a1\u7aef\u7ec4\u4ef6)/Route Handlers(\u8def\u7531\u5904\u7406\u5668)/Server Actions(\u670d\u52a1\u7aef\u884c\u4e3a)\u4e2d\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"async/await"})," \u6765\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"fetch"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"\u6bd4\u5982:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="app/page.tsx"',children:'async function getData() {\n  const res = await fetch("https://api.example.com/...");\n  // The return value is *not* serialized\n  // You can return Date, Map, Set, etc.\n\n  if (!res.ok) {\n    // This will activate the closest `error.js` Error Boundary\n    throw new Error("Failed to fetch data");\n  }\n\n  return res.json();\n}\n\nexport default async function Page() {\n  const data = await getData();\n\n  return <main></main>;\n}\n'})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u8bf7\u6ce8\u610f:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Next.js \u5728 Server Components(\u670d\u52a1\u7aef\u7ec4\u4ef6)\u4e2d\u4e3a\u4f60\u63d0\u4f9b\u4e86\u4e00\u4e9b\u83b7\u53d6\u6570\u636e\u65f6\u6709\u7528\u7684\u51fd\u6570, \u6bd4\u5982 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/cookies",children:"cookie"})," \u548c ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/headers",children:"headers"}),". \u8fd9\u4f1a\u5bfc\u81f4\u8be5\u8def\u7531\u53d8\u4e3a\u52a8\u6001\u6e32\u67d3(\u56e0\u4e3a\u5b83\u4eec\u4f9d\u8d56\u4e8e\u8bf7\u6c42\u65f6\u95f4\u4fe1\u606f)."]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728 Route Handlers(\u8def\u7531\u5904\u7406\u5668)\u4e2d, ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e0d\u4f1a\u88ab\u81ea\u52a8\u8bb0\u5fc6, \u56e0\u4e3a Route Handlers(\u8def\u7531\u5904\u7406\u5668) \u4e0d\u662f React \u7ec4\u4ef6\u6811\u7684\u4e00\u90e8\u5206."]}),"\n",(0,i.jsxs)(n.li,{children:["\u4e3a\u4e86\u5728 Server Components(\u670d\u52a1\u7aef\u7ec4\u4ef6) \u4e2d\u901a\u8fc7 Typescript \u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"async/await"}),", \u4f60\u9700\u8981 Typescript ",(0,i.jsx)(n.code,{children:"5.1.3"})," \u7248\u672c\u6216\u66f4\u9ad8\u7248\u672c, ",(0,i.jsx)(n.code,{children:"@types/react"})," ",(0,i.jsx)(n.code,{children:"18.2.8"})," \u6216\u66f4\u9ad8\u7248\u672c."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"caching-data-\u7f13\u5b58\u6570\u636e",children:"Caching Data (\u7f13\u5b58\u6570\u636e)"}),"\n",(0,i.jsx)(n.p,{children:"\u7f13\u5b58\u83b7\u53d6\u7684\u6570\u636e, \u8fd9\u6837\u6bcf\u6b21\u8bf7\u6c42\u65f6\u5c31\u65e0\u9700\u4ece\u6570\u636e\u6e90\u91cd\u65b0\u83b7\u53d6\u6570\u636e."}),"\n",(0,i.jsxs)(n.p,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b, Next.js \u4f1a\u81ea\u52a8\u5c06 ",(0,i.jsx)(n.code,{children:"fetch"})," \u7684\u8fd4\u56de\u503c\u7f13\u5b58\u5230\u670d\u52a1\u5668\u4e0a\u7684",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/caching#data-cache",children:"Data Cache(\u6570\u636e\u7f13\u5b58)"}),"\u4e2d. \u8fd9\u610f\u5473\u7740\u6570\u636e\u4f1a\u5728\u6784\u5efa\u65f6\u6216\u8bf7\u6c42\u65f6\u83b7\u53d6\u5e76\u7f13\u5b58, \u5e76\u5728\u8be5\u6570\u636e\u91cd\u65b0\u8bf7\u6c42\u65f6\u91cd\u590d\u4f7f\u7528."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'// \'force-cache\' is the default, and can be omitted\nfetch("https://...", { cache: "force-cache" });\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"POST"})," \u65b9\u6cd5\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e5f\u4f1a\u88ab\u81ea\u52a8\u7f13\u5b58. \u5728 Route Handlers(\u8def\u7531\u5904\u7406\u5668) \u4e2d\u5728\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"POST"})," \u65b9\u6cd5\u662f\u4e0d\u4f1a\u88ab\u7f13\u5b58\u7684."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u4ec0\u4e48\u662f Data Cache(\u6570\u636e\u7f13\u5b58)?"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6570\u636e\u7f13\u5b58\u662f\u4e00\u79cd\u6301\u4e45\u5316\u7684 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Caching",children:"HTTP \u7f13\u5b58"}),". \u6839\u636e\u5e73\u53f0\u7684\u4e0d\u540c\uff0c\u7f13\u5b58\u53ef\u81ea\u52a8\u6269\u5c55\u5e76",(0,i.jsx)(n.a,{href:"https://vercel.com/docs/infrastructure/data-cache",children:"\u5728\u591a\u4e2a\u533a\u57df\u5171\u4eab"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e86\u89e3\u6709\u5173",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/caching#data-cache",children:"\u6570\u636e\u7f13\u5b58"}),"\u7684\u66f4\u591a\u4fe1\u606f."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"revalidating-data-\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1",children:"Revalidating Data (\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1)"}),"\n",(0,i.jsx)(n.p,{children:"\u6570\u636e\u91cd\u65b0\u9a8c\u8bc1\u662f\u6e05\u7406 Data Cache(\u6570\u636e\u7f13\u5b58) \u5e76\u91cd\u65b0\u83b7\u53d6\u6700\u65b0\u6570\u636e\u7684\u8fc7\u7a0b. \u5f53\u60a8\u7684\u6570\u636e\u53d1\u751f\u53d8\u5316, \u5e76\u5e0c\u671b\u786e\u4fdd\u663e\u793a\u6700\u65b0\u4fe1\u606f\u65f6, \u8fd9\u79cd\u65b9\u6cd5\u975e\u5e38\u6709\u7528."}),"\n",(0,i.jsx)(n.p,{children:"\u7f13\u5b58\u7684\u6570\u636e\u4f1a\u5728\u4e0b\u9762\u4e24\u79cd\u65b9\u5f0f\u4e0b\u88ab\u91cd\u65b0\u9a8c\u8bc1:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Time-based revalidation(\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1):"})," \u5728\u4e00\u5b9a\u65f6\u95f4\u540e\u81ea\u52a8\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e. \u8fd9\u5bf9\u4e8e\u53d8\u5316\u4e0d\u9891\u7e41, \u5b9e\u65f6\u6027\u8981\u6c42\u4e0d\u9ad8\u7684\u6570\u636e\u975e\u5e38\u6709\u7528."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"On-demand revalidation(\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1):"})," \u57fa\u4e8e\u4e8b\u4ef6(\u50cf\u8868\u5355\u63d0\u4ea4), \u624b\u52a8\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e. \u6309\u9700\u91cd\u65b0\u9a8c\u8bc1\u53ef\u4ee5\u4f7f\u7528\u57fa\u4e8e\u6807\u7b7e\u6216\u8def\u5f84\u7684\u65b9\u6cd5\u6765\u4e00\u6b21\u6027\u91cd\u65b0\u9a8c\u8bc1\u4e00\u7ec4\u6570\u636e. \u5f53\u4f60\u60f3\u786e\u4fdd\u5c3d\u5feb\u663e\u793a\u6700\u65b0\u6570\u636e\u65f6(\u4f8b\u5982, \u5f53\u65e0 head \u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf\u7684\u5185\u5bb9\u66f4\u65b0\u65f6), \u8fd9\u79cd\u65b9\u6cd5\u975e\u5e38\u6709\u7528."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"time-based-revalidation-\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1",children:"Time-based Revalidation (\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1)"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3a\u4e86\u95f4\u9694\u6027\u7684\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e, \u4f60\u53ef\u4ee5\u5728 ",(0,i.jsx)(n.code,{children:"fetch"})," \u4e2d\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"next.revalidate"})," \u9009\u9879\u6765\u8bbe\u7f6e\u7f13\u5b58\u8d44\u6e90\u7684\u751f\u547d\u5468\u671f(\u901a\u8fc7\u79d2\u6570\u8bbe\u7f6e)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'fetch("https://...", { next: { revalidate: 3600 } });\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u53e6\u5916, \u5982\u679c\u8981\u5728\u4e00\u4e2a\u8def\u7531\u6bb5\u4e2d\u91cd\u65b0\u9a8c\u8bc1\u6240\u6709\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42, \u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config",children:"Segment Config Options(\u6bb5\u914d\u7f6e\u9009\u9879)"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="layout.js | page.js"',children:"export const revalidate = 3600; // revalidate at most every hour\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u5728\u4e00\u4e2a\u9759\u6001\u6e32\u67d3\u7684\u8def\u7531\u4e2d\u6709\u591a\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42, \u4e14\u6bcf\u4e2a\u8bf7\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1\u9891\u7387\u4e0d\u540c. \u6240\u6709\u8bf7\u6c42\u90fd\u5c06\u4f7f\u7528\u6700\u4f4e\u65f6\u95f4. \u5bf9\u4e8e\u52a8\u6001\u6e32\u67d3\u7684\u8def\u7531, \u6bcf\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u90fd\u5c06\u72ec\u7acb\u91cd\u65b0\u9a8c\u8bc1."]}),"\n",(0,i.jsxs)(n.p,{children:["\u4e86\u89e3\u66f4\u591a\u5173\u4e8e ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/caching#time-based-revalidation",children:"time-based revalidation(\u57fa\u4e8e\u65f6\u95f4\u7684\u91cd\u65b0\u9a8c\u8bc1)"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"on-demand-revalidation-\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1",children:"On-demand Revalidation (\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1)"}),"\n",(0,i.jsxs)(n.p,{children:["\u6570\u636e\u53ef\u6839\u636e\u8def\u5f84( ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/revalidatePath",children:(0,i.jsx)(n.code,{children:"revalidatePath"})}),") \u6216 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations",children:"Server Action(\u670d\u52a1\u5668\u884c\u4e3a)"})," / ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/route-handlers",children:"Route Handler(\u8def\u7531\u5904\u7406\u5668)"}),"\u7684\u7f13\u5b58\u6807\u7b7e(",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/revalidateTag",children:(0,i.jsx)(n.code,{children:"revalidateTag"})}),")\u6765\u6309\u9700\u6c42\u91cd\u65b0\u9a8c\u8bc1."]}),"\n",(0,i.jsxs)(n.p,{children:["Next.js \u6709\u4e00\u4e2a\u7f13\u5b58\u6807\u8bb0\u7cfb\u7edf, \u7528\u4e8e\u4f7f\u8de8\u8def\u7531\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u65e0\u6548."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5f53\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"fetch"})," \u65f6, \u4f60\u4f7f\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u6807\u8bb0\u6765\u6807\u8bb0\u7f13\u5b58\u6761\u76ee."]}),"\n",(0,i.jsxs)(n.li,{children:["\u7136\u540e, \u4f60\u53ef\u4ee5\u8c03\u7528 ",(0,i.jsx)(n.code,{children:"revalidateTag"})," \u6765\u91cd\u65b0\u83b7\u53d6\u8be5\u6807\u8bb0\u4e0b\u7684\u6240\u6709\u7f13\u5b58\u6761\u76ee."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6bd4\u5982, \u5728\u4e0b\u9762\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e2d\u589e\u52a0 ",(0,i.jsx)(n.code,{children:"collection"})," \u7f13\u5b58\u6807\u8bb0:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="app/page.tsx"',children:'export default async function Page() {\n  const res = await fetch("https://...", { next: { tags: ["collection"] } });\n  const data = await res.json();\n  // ...\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u540e, \u4f60\u53ef\u4ee5\u901a\u8fc7 Server Action(\u670d\u52a1\u5668\u884c\u4e3a) \u4e2d\u8c03\u7528 ",(0,i.jsx)(n.code,{children:"revalidateTag"})," \u6765\u91cd\u65b0\u9a8c\u8bc1\u8fd9\u4e2a\u5e26\u6709 ",(0,i.jsx)(n.code,{children:"collection"})," \u6807\u8bb0\u7684\u83b7\u53d6\u8c03\u7528:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="app/actions.ts"',children:'"use server";\n\nimport { revalidateTag } from "next/cache";\n\nexport default async function action() {\n  revalidateTag("collection");\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e86\u89e3\u66f4\u591a\u5173\u4e8e ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/caching#on-demand-revalidation",children:"on-demand revalidation(\u57fa\u4e8e\u9700\u6c42\u7684\u91cd\u65b0\u9a8c\u8bc1)"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"error-handling-and-revalidation-\u9519\u8bef\u5904\u7406\u548c\u91cd\u65b0\u9a8c\u8bc1",children:"Error handling and revalidation (\u9519\u8bef\u5904\u7406\u548c\u91cd\u65b0\u9a8c\u8bc1)"}),"\n",(0,i.jsx)(n.p,{children:"\u5982\u679c\u5728\u5c1d\u8bd5\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e\u65f6\u53d1\u751f\u9519\u8bef, \u5c06\u4f7f\u7528\u7f13\u5b58\u4e2d\u4e0a\u6b21\u6210\u529f\u751f\u6210\u7684\u6570\u636e. \u5728\u4e0b\u4e00\u4e2a\u540e\u7eed\u8bf7\u6c42\u4e2d, Next.js \u5c06\u5c1d\u8bd5\u91cd\u65b0\u9a8c\u8bc1\u6570\u636e."}),"\n",(0,i.jsx)(n.h3,{id:"opting-out-of-data-caching-\u9000\u51fa\u6570\u636e\u7f13\u5b58",children:"Opting out of Data Caching (\u9000\u51fa\u6570\u636e\u7f13\u5b58)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u88ab\u7f13\u5b58:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e2d\u589e\u52a0 ",(0,i.jsx)(n.code,{children:"cache:'no-store'"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e2d\u589e\u52a0 ",(0,i.jsx)(n.code,{children:"revalidate: 0"})," \u9009\u9879."]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728 Router Handler(\u8def\u7531\u5904\u7406\u5668) \u4e2d\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42, \u5e76\u4e14\u662f ",(0,i.jsx)(n.code,{children:"POST"})," \u65b9\u6cd5."]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"headers"})," \u6216 ",(0,i.jsx)(n.code,{children:"cookie"})," \u540e, \u53d1\u51fa ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42."]}),"\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528\u4e86 ",(0,i.jsx)(n.code,{children:"const dynamic='force-dynamic'"})," Route Segment Option(\u6bb5\u8def\u7531\u914d\u7f6e),"]}),"\n",(0,i.jsxs)(n.li,{children:["\u9ed8\u8ba4\u60c5\u51b5\u4e0b, \u914d\u7f6e\u4e86 ",(0,i.jsx)(n.code,{children:"fetchCache"})," Route Segment Option(\u6bb5\u8def\u7531\u914d\u7f6e) \u5c06\u8df3\u8fc7\u7f13\u5b58."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u4e2d\u4f7f\u7528\u4e86 ",(0,i.jsx)(n.code,{children:"Authorization"})," \u6216 ",(0,i.jsx)(n.code,{children:"Cookie"})," \u5934, \u7136\u540e\u5728\u7ec4\u4ef6\u6811\u4e2d, \u5b83\u7684\u4e0a\u5c42\u7ec4\u4ef6\u6709\u4e00\u4e2a\u672a\u7f13\u5b58\u7684\u8bf7\u6c42."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"individual-fetch-requests-\u79c1\u6709\u7684-fetch-\u8bf7\u6c42",children:["Individual ",(0,i.jsx)(n.code,{children:"fetch"})," Requests (\u79c1\u6709\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42)"]}),"\n",(0,i.jsxs)(n.p,{children:["\u8981\u9009\u62e9\u4e0d\u5bf9\u5355\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u8fdb\u884c\u7f13\u5b58, \u53ef\u4ee5\u5c06 ",(0,i.jsx)(n.code,{children:"fetch"})," \u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"cache"})," \u9009\u9879\u8bbe\u7f6e\u4e3a ",(0,i.jsx)(n.code,{children:"'no-cache'"}),". \u8fd9\u5c06\u5728\u6bcf\u6b21\u8bf7\u6c42\u65f6\u52a8\u6001\u83b7\u53d6\u6570\u636e."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="layout.js | page.js"',children:'fetch("https://...", { cache: "no-store" });\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 ",(0,i.jsxs)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/fetch",children:[(0,i.jsx)(n.code,{children:"fetch"})," API \u6587\u6863"]})," \u4e2d\u67e5\u770b\u66f4\u591a\u53ef\u7528\u7684 ",(0,i.jsx)(n.code,{children:"cache"})," \u9009\u9879."]}),"\n",(0,i.jsxs)(n.h4,{id:"multiple-fetch-requests-\u591a\u4e2a-fetch-\u8bf7\u6c42",children:["Multiple ",(0,i.jsx)(n.code,{children:"fetch"})," Requests (\u591a\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42)"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u8def\u7531\u6bb5(\u5982 Layout(\u5e03\u5c40), Page(\u9875\u9762))\u4e2d\u6709\u591a\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"}),"\u8bf7\u6c42, \u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config",children:"Segment Config Options(\u6bb5\u914d\u7f6e\u9009\u9879)"})," \u4e3a\u6240\u6709\u6570\u636e\u8bf7\u6c42\u914d\u7f6e\u7f13\u5b58\u884c\u4e3a."]}),"\n",(0,i.jsxs)(n.p,{children:["\u7136\u800c, \u6211\u4eec\u8fd8\u662f\u66f4\u5efa\u8bae\u4f60\u4e3a\u6bcf\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"fetch"})," \u8bf7\u6c42\u5355\u72ec\u914d\u7f6e. \u8fd9\u4f1a\u7ed9\u4f60\u4e3a\u7f13\u5b58\u884c\u4e3a\u5e26\u6765\u66f4\u7ec6\u529b\u5ea6\u7684\u63a7\u5236."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fetching-data-on-the-server-with-third-party-libraries-\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e",children:"Fetching data on the Server with third-party libraries (\u5728\u670d\u52a1\u5668\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e)"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u4f7f\u7528\u4e0d\u652f\u6301\u6216\u4e0d\u516c\u5f00\u652f\u6301\u7684 ",(0,i.jsx)(n.code,{children:"fetch"})," \u7684\u7b2c\u4e09\u65b9\u5e93\u65f6(\u4f8b\u5982\u6570\u636e\u5e93, CMS(\u5185\u5bb9\u7ba1\u7406\u7cfb\u7edf), ORM \u5ba2\u6237\u7aef)\u7684\u60c5\u51b5\u4e0b, \u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config",children:"Route Segment Config Option(\u8def\u7531\u6bb5\u914d\u7f6e\u9009\u9879)"})," \u548c React \u7684 ",(0,i.jsx)(n.code,{children:"cache"})," \u529f\u80fd\u6765\u914d\u7f6e\u8fd9\u4e9b\u8bf7\u6c42\u7684\u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1\u884c\u4e3a."]}),"\n",(0,i.jsxs)(n.p,{children:["\u6570\u636e\u662f\u5426\u4f1a\u88ab\u7f13\u5b58\u53d6\u51b3\u4e8e\u8be5\u8def\u7531\u6bb5\u662f ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/rendering/server-components#server-rendering-strategies",children:"statically or dynamically rendered(\u9759\u6001\u6216\u52a8\u6001\u6e32\u67d3)"})," \u7684. \u5982\u679c\u8def\u7531\u6bb5\u662f\u9759\u6001\u7684(\u9ed8\u8ba4\u60c5\u51b5\u4e0b), \u8bf7\u6c42\u7684\u8f93\u51fa\u5c06\u4f5c\u4e3a\u8def\u7531\u6bb5\u7684\u4e00\u90e8\u5206\u88ab\u7f13\u5b58\u548c\u91cd\u65b0\u9a8c\u8bc1. \u5982\u679c\u8def\u7531\u6bb5\u65f6\u52a8\u6001\u7684, \u8bf7\u6c42\u7684\u8f93\u51fa\u5c06\u4e0d\u4f1a\u88ab\u7f13\u5b58, \u6570\u636e\u5c06\u5728\u8def\u7531\u6bb5\u6e32\u67d3\u65f6\u88ab\u6bcf\u6b21\u91cd\u65b0\u6293\u53d6."]}),"\n",(0,i.jsxs)(n.p,{children:["\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u76ee\u524d\u6b63\u5904\u4e8e\u5b9e\u9a8c\u4e2d\u7684 ",(0,i.jsxs)(n.a,{href:"https://nextjs.org/docs/app/api-reference/functions/unstable_cache",children:[(0,i.jsx)(n.code,{children:"unstable_cache"})," API"]})]}),"\n",(0,i.jsx)(n.h3,{id:"example-\u793a\u4f8b",children:"Example (\u793a\u4f8b)"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5982\u4e0b\u7684\u5b9e\u4f8b\u4e2d:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"revalidate"})," \u9009\u9879\u88ab\u8bbe\u7f6e\u4e3a ",(0,i.jsx)(n.code,{children:"3600"}),", \u8868\u793a\u6570\u636e\u4f1a\u88ab\u7f13\u5b58\u5e76\u6bcf\u9694\u4e00\u4e2a\u5c0f\u65f6\u91cd\u65b0\u9a8c\u8bc1."]}),"\n",(0,i.jsxs)(n.li,{children:["React ",(0,i.jsx)(n.code,{children:"cache"})," \u51fd\u6570\u88ab\u7528\u6765 ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/caching#request-memoization",children:"memoize(\u8bb0\u5fc6)"})," \u6570\u636e\u8bf7\u6c42."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="utils/get-items.ts"',children:'import { cache } from "react";\n\nexport const revalidate = 3600; // revalidate the data at most every hour\n\nexport const getItem = cache(async (id: string) => {\n  const item = await db.item.findUnique({ id });\n  return item;\n});\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5c3d\u7ba1 ",(0,i.jsx)(n.code,{children:"getItem"})," \u51fd\u6570\u88ab\u8c03\u7528\u4e86\u4e24\u6b21, \u4f46\u53ea\u6709\u4e00\u4e2a\u67e5\u8be2\u4f1a\u88ab\u63d0\u4ea4\u5230\u6570\u636e\u5e93."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="app/item/[id]/layout.tsx"',children:'import { getItem } from "@/utils/get-item";\n\nexport default async function Layout({\n  params: { id },\n}: {\n  params: { id: string };\n}) {\n  const item = await getItem(id);\n  // ...\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",metastring:'title="app/item/[id]/page.tsx"',children:'import { getItem } from "@/utils/get-item";\n\nexport default async function Page({\n  params: { id },\n}: {\n  params: { id: string };\n}) {\n  const item = await getItem(id);\n  // ...\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fetching-data-on-the-client-with-route-handlers-\u5728\u5ba2\u6237\u7aef\u8bbf\u95ee\u8def\u7531\u5904\u7406\u5668\u83b7\u53d6\u6570\u636e",children:"Fetching Data on the Client with Route Handlers (\u5728\u5ba2\u6237\u7aef\u8bbf\u95ee\u8def\u7531\u5904\u7406\u5668\u83b7\u53d6\u6570\u636e)"}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u9700\u8981\u5728\u5ba2\u6237\u7aef\u7ec4\u4ef6\u4e2d\u83b7\u53d6\u6570\u636e, \u53ef\u4ee5\u5728\u5ba2\u6237\u7aef\u4e2d\u8bbf\u95ee ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/route-handlers",children:"Route Handlers(\u8def\u7531\u5904\u7406\u5668)"}),". \u8def\u7531\u5904\u7406\u5668\u5728\u670d\u52a1\u7aef\u4e0a\u6267\u884c, \u5e76\u5c06\u6570\u636e\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef. \u8fd9\u5728\u4e0d\u60f3\u5411\u5ba2\u6237\u7aef\u66b4\u9732\u654f\u611f\u4fe1\u606f(\u5982 API tokens)\u65f6\u975e\u5e38\u6709\u7528."]}),"\n",(0,i.jsxs)(n.p,{children:["\u67e5\u770b ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/route-handlers",children:"Route Handlers(\u8def\u7531\u5904\u7406\u5668)"})," \u83b7\u53d6\u66f4\u591a\u793a\u4f8b."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Server Components(\u670d\u52a1\u7aef\u7ec4\u4ef6) \u548c Route Handlers(\u8def\u7531\u5904\u7406\u5668)"})}),"\n",(0,i.jsx)(n.p,{children:"\u7531\u4e8e\u670d\u52a1\u7aef\u7ec4\u4ef6\u662f\u5728\u670d\u52a1\u5668\u4e0a\u6e32\u67d3\u7684, \u56e0\u6b64\u4e0d\u7528\u5728 Server Components(\u670d\u52a1\u7aef\u7ec4\u4ef6) \u4e2d\u8c03\u7528 Route Handler(\u8def\u7531\u5904\u7406\u5668) \u6765\u83b7\u53d6\u6570\u636e. \u76f8\u53cd, \u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u670d\u52a1\u7aef\u7ec4\u4ef6\u4e2d\u83b7\u53d6\u6570\u636e."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fetching-data-on-the-client-with-third-party-libraries-\u5728\u5ba2\u6237\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e",children:"Fetching Data on the Client with third-party libraries (\u5728\u5ba2\u6237\u7aef\u4f7f\u7528\u7b2c\u4e09\u65b9\u5e93\u83b7\u53d6\u6570\u636e)"}),"\n",(0,i.jsxs)(n.p,{children:["\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u50cf ",(0,i.jsx)(n.a,{href:"https://swr.vercel.app/",children:"SWR"})," \u6216 ",(0,i.jsx)(n.a,{href:"https://tanstack.com/query/latest",children:"React Query"})," \u7b49\u7b2c\u4e09\u65b9\u5e93\u5728\u5ba2\u6237\u7aef\u83b7\u53d6\u6570\u636e. \u8fd9\u4e9b\u5e93\u63d0\u4f9b\u4e86\u81ea\u5df1\u7684 API, \u7528\u4e8e\u5bf9\u8bf7\u6c42\u8bb0\u5fc6, \u5bf9\u6570\u636e\u8fdb\u884c\u7f13\u5b58, \u91cd\u65b0\u9a8c\u8bc1\u548c\u66f4\u6539."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u672a\u6765\u7684 APIs:"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"use"})," \u662f\u4e00\u4e2a React \u51fd\u6570, \u7528\u4e8e\u8fd4\u56de\u4e00\u4e2a\u63a5\u53d7\u548c\u5904\u7406 Promise \u7684\u51fd\u6570. \u76ee\u524d\u5728\u5ba2\u6237\u7aef\u7ec4\u4ef6\u4e2d\u4e0d\u63a8\u8350\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"use"})," \u5c01\u88c5 fetch, \u8fd9\u53ef\u80fd\u4f1a\u89e6\u53d1\u591a\u6b21\u91cd\u65b0\u6e32\u67d3. \u6709\u5173 ",(0,i.jsx)(n.code,{children:"use"})," \u7684\u66f4\u591a\u4fe1\u606f, \u8bf7\u53c2\u9605 ",(0,i.jsx)(n.a,{href:"https://react.dev/reference/react/use",children:"React \u6587\u6863"}),"."]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>r});var i=t(7294);const c={},a=i.createContext(c);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);